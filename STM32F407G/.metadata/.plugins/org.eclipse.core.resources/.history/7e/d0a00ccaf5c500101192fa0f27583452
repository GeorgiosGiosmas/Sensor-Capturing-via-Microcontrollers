/*
 * main_custom.c
 *
 *  Created on: Nov 18, 2025
 *      Author: gigio
 */


#ifndef INC_MAIN_H_
#define INC_MAIN_H_

#include <string.h>
#include <stdint.h>
#include <stdio.h>
#include "stm32f4xx_hal.h"
#include "cmsis_os.h"

/*
 *	@brief	This is a custom enumeration for the return status
 */

// If no PLL clock available set this to 1.
#define NO_PLL	( 1 )

typedef enum
{
	Execution_Succesfull 	= 0,
	Execution_Failed 		= 1
} ReturnStatus;

/*
 * @brief This is the enumeration type for the supported clocks.
 */
typedef enum
{
	HSI_16	=	0,
	HSI_8	=	1,
	HSE_4	=	2,
	HSE_2	=	3,
	PLL_84	=	4,
	PLL_42	=	5,
} Clock_Source_t;

/*
 * @brief This function sets the appropriate clock source for our circuit.
 */
ReturnStatus SystemClock_Config(Clock_Source_t clk);

/*
 * @brief This function configures the ADC modules and their channels.
 */
ReturnStatus ADC_Config(ADC_HandleTypeDef *adc_handle, ADC_TypeDef *adc_instance, ADC_ChannelConfTypeDef *channel, uint32_t channel_num);

/*
 * @brief This function configures the USART1 module.
 */
ReturnStatus USART1_Config(UART_HandleTypeDef *uart_handle);

/*
 * @brief This function configures the I2C module.
 */
ReturnStatus I2C_Config(I2C_HandleTypeDef *i2c, I2C_TypeDef *Instance);

/*
 * @brief This function configures the DMA module.
 */
ReturnStatus DMA_Config(DMA_HandleTypeDef *dma, DMA_Stream_TypeDef *Instance);

/*
 * @brief This function configures the TIMER2 module in PWM mode.
 */
ReturnStatus TIM2_Config(TIM_HandleTypeDef *timer);

/*
 * @brief Task functions of our Application.
 */
TaskFunction_t Capture_Temp_Sensor_Value_Task(void * pvParameters);
TaskFunction_t Capture_Potensiometer_Value_Task(void * pvParameters);
TaskFunction_t Transmit_Temp_Sensor_Value_Task(void * pvParameters);
TaskFunction_t Transmit_Potensiometer_Value_Task(void * pvParameters);

/*
 * @brief This function implements delay in ms with the DWT module(Debugging and profiling feature in Arm Cortex-M processors, measures CPU cycles).
 */
void Delay(uint32_t ms);



#endif /* INC_MAIN_H_ */
